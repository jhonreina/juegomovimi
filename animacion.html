<!DOCTYPE html>

<html>

<head>
    <title>HTML canvas Animacion</title>
</head>
<body>
    <canvas id="canvas"></canvas>

    <button onclick='moveLeft()'>Left</button>
    <button onclick='moveRight()'>Right</button>

    <script>
       
       var canwidth = 650;
       var canHeight = 300;


       var x = 0;
       var y = 0;
       
       var left = false;

       var trackLeft = 1;
       var trackRigtht = 0; 
       var srcX;
       var srcY;

       var sheetWidth = 864;
       var sheeHeight = 280;

       var cols = 8;
       var rows = 2;

        

       var width = sheetWidth / cols;
       var height = sheeHeight / rows;

       var currentFrame = 0;

       var character = new Image();
       character.src = 'img/character.png';

        var canvas = document.getElementById('canvas');
        canvas.width = canwidth;
        canvas.height = canHeight;

        var ctx = canvas.getContext('2d');

        function moveRight(){
            left = false;
        }

        function moveLeft(){
            left = true;
        }


       function updateFrame(){
        ctx.clearRect(x,y, width,height);
        currentFrame= ++currentFrame % cols;
        srcX = currentFrame * width;        
        if(left)
        srcY = trackLeft * height;
        else {
         x+=5;    
         srcY = trackRigtht * height;
        }
       }

       function drawImage(){
            updateFrame();
            ctx.drawImage(character, srcX, srcY, width, height, x, y, width, height);
       }


    setInterval(function(){
        drawImage();
    },100);


    



    </script>


 </body>





</html>